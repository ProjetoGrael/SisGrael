<%= form_with(model: subject, local: true, class: 'container-85') do |form| %>
  <% if subject.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(subject.errors.count, "error") %> impediu esta disciplina de ser salva:</h2>

      <ul>
      <% subject.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="card">
    <div class="card-show-container">
      <div class="grid-2-columns grid">
        <div class="field-info">
          <p>Nome:</p>
          <%= form.text_field :name, id: :subject_name %>
        </div>



        <div class="field-info">
          <p>Tipo de disciplina:</p>
          <%= form.select :leveled, options_for_select(subject_leveled_options, selected: subject.leveled) %>
        </div>

        <div class="field-info">
          <p>Status:</p>
          <%= form.select :active, options_for_select(active_options, selected: subject.active), id: :subject_active %>
        </div>

        <div class="field-info">
          <p>Carga horária:</p>
          <%= form.number_field :workload, id: :workload %>
        </div>

        <div class="field-info">
          <p>Programa</p>
          <!-- Condicional para adicionar o tipo de programa correto por padrão, quando a disciplina for ser editada -->
          <% if subject.professionalized? %>
            <%= form.select :program, options_for_select([["Esporte", :sport], ["Profissionalizante", :professionalized], ["Ambiental", :environmental]], selected="professionalized"), {include_blank: true} %>
          <% elsif subject.sport? %>
            <%= form.select :program, options_for_select([["Esporte", :sport], ["Profissionalizante", :professionalized], ["Ambiental", :environmental]], selected="sport"), {include_blank: true} %>
          <% elsif subject.environmental? %>
            <%= form.select :program, options_for_select([["Esporte", :sport], ["Profissionalizante", :professionalized], ["Ambiental", :environmental]], selected="environmental"), {include_blank: true} %>
          <% else %>
            <%= form.select :program, options_for_select([["Esporte", :sport], ["Profissionalizante", :professionalized], ["Ambiental", :environmental]]), {include_blank: true} %>
          <% end %>
        </div>
      </div>
    </div>

  
  </div>
      <div id="image_field">
          <%= form.file_field :syllabus, id: "image_label" %>
          <label for="image_label">Selecione o arquivo da Ementa</label>
          <%= form.hidden_field :syllabus_cache %>
     </div>
    
  <div class="line-buttons" style="display: block;">
    <%= link_to 'Voltar', subjects_path, class: 'generate-button', style: 'display: inline;' %>
    <%= form.submit 'Salvar Disciplina', class: 'generate-button', style: 'display: inline;' %>
  </div>

<% end %>
